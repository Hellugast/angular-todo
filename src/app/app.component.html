<div class="container" style="margin-top: 20px">
  <h1>ToDo App</h1>
  <hr />
  <div *ngIf="!isUpdateFormActive; else active">
    <div class="form-group">
      <label for="work">Yapılacak İş</label>
      <input
        type="text"
        class="form-control"
        [ngClass]="changeInputClass()"
        id="work"
        name="work"
        [(ngModel)]="work"
      />
      <div class="invalid-feedback">En az 5 karakter kullanılmalı</div>
    </div>
    <div class="form-group mt-2">
      <button
        [disabled]="work.length < 5"
        class="btn btn-outline-primary w-100"
        (click)="save()"
      >
        Kaydet
      </button>
    </div>
    <hr />
  </div>

  <ng-template #active>
    <div class="form-group">
      <label for="work">Güncellenecek görev : {{ this.works[index] }}</label>
      <input
        type="text"
        class="form-control"
        id="work"
        name="work"
        [(ngModel)]="updateWork"
      />
    </div>
    <div class="form-group mt-2">
      <button class="btn btn-outline-warning w-100" (click)="update()">
        Güncelle
      </button>
      <button class="btn btn-outline-danger w-100 mt-2" (click)="cancel()">
        Vazgeç
      </button>
    </div>
  </ng-template>

  <ul>
    <li class="mt-1" *ngFor="let w of works; let i = index">
      {{ w }}
      <div *ngIf="!isUpdateFormActive">
        <button class="btn btn-outline-warning btn-sm mx-1" (click)="get(w, i)">
          Güncelle
        </button>
        <button class="btn btn-outline-danger btn-sm" (click)="remove(i)">
          Sil
        </button>
      </div>
    </li>
  </ul>
</div>
